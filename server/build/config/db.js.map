{"version":3,"sources":["../../src/config/db.js"],"names":["mongoose","Promise","global","set","connect","DB_URL","useNewUrlParser","useUnifiedTopology","err","createConnection","connection","once","console","log","on","e"],"mappings":";;AAAA;;;;AAEA;;;;AAEAA,mBAASC,OAAT,GAAmBC,OAAOD,OAA1B;;AAEAD,mBAASG,GAAT,CAAa,kBAAb,EAAiC,KAAjC;AACAH,mBAASG,GAAT,CAAa,gBAAb,EAA+B,IAA/B;AACAH,mBAASG,GAAT,CAAa,OAAb,EAAsB,IAAtB;;AAEA,IAAI;AACFH,qBAASI,OAAT,CAAiBC,iBAAjB,EAAyB,EAAEC,iBAAiB,IAAnB,EAAyBC,oBAAoB,IAA7C,EAAzB;AACD,CAFD,CAEE,OAAOC,GAAP,EAAY;AACZR,qBAASS,gBAAT,CAA0BJ,iBAA1B,EAAkC;AAChCC,qBAAiB,IADe;AAEhCC,wBAAoB;AAFY,GAAlC;AAID;;AAEDP,mBAASU,UAAT,CACGC,IADH,CACQ,MADR,EACgB;AAAA,SAAMC,QAAQC,GAAR,CAAY,iBAAZ,CAAN;AAAA,CADhB,EAEGC,EAFH,CAEM,OAFN,EAEe,aAAK;AAChB,QAAMC,CAAN;AACD,CAJH","file":"db.js","sourcesContent":["import mongoose from 'mongoose';\n\nimport { DB_URL } from '../constants';\n\nmongoose.Promise = global.Promise;\n\nmongoose.set('useFindAndModify', false);\nmongoose.set('useCreateIndex', true);\nmongoose.set('debug', true);\n\ntry {\n  mongoose.connect(DB_URL, { useNewUrlParser: true, useUnifiedTopology: true });\n} catch (err) {\n  mongoose.createConnection(DB_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  });\n}\n\nmongoose.connection\n  .once('open', () => console.log('MongoDB running'))\n  .on('error', e => {\n    throw e;\n  });\n"]}
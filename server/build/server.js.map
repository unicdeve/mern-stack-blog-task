{"version":3,"sources":["../src/server.js"],"names":["app","use","UserRoutes","ArticleRoutes","process","env","NODE_ENV","express","static","path","join","__dirname","get","req","res","sendFile","resolve","listen","port","err","console","log"],"mappings":";;AAAA;;;;AAEA;;;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,wBAAZ;;AAEA,2BAAkBA,GAAlB;;AAEA;AACAA,IAAIC,GAAJ,CAAQ,eAAR,EAAyBC,mBAAzB;AACAF,IAAIC,GAAJ,CAAQ,iBAAR,EAA2BE,sBAA3B;;AAEA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCN,MAAIC,GAAJ,CAAQM,kBAAQC,MAAR,CAAeC,KAAKC,IAAL,CAAUC,SAAV,EAAqB,cAArB,CAAf,CAAR;;AAEAX,MAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,QAAIC,QAAJ,CAAaN,KAAKC,IAAL,CAAUC,SAAV,EAAqB,cAArB,EAAqC,YAArC,CAAb;AACD,GAFD;AAGD;;AAEDX,IAAIY,GAAJ,CAAQ,iBAAR,EAA2B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvCA,MAAIC,QAAJ,CAAaN,KAAKO,OAAL,CAAaL,SAAb,EAAwB,IAAxB,EAA8B,OAA9B,EAAuC,mBAAvC,CAAb;AACD,CAFD;;AAIAX,IAAIiB,MAAJ,CAAWC,eAAX,EAAiB,eAAO;AACtB,MAAIC,GAAJ,EAASC,QAAQC,GAAR,CAAYF,GAAZ,EAAT,KACKC,QAAQC,GAAR,6BAAsCH,eAAtC;AACN,CAHD","file":"server.js","sourcesContent":["import express from 'express';\n\nimport middlewaresConfig from './config/middlewares';\nimport './config/db';\nimport { port } from './constants';\nimport { UserRoutes, ArticleRoutes } from './modules';\n\nconst app = express();\n\nmiddlewaresConfig(app);\n\n// API routes\napp.use('/api/v1/users', UserRoutes);\napp.use('/api/v1/article', ArticleRoutes);\n\nif (process.env.NODE_ENV === 'production') {\n  app.use(express.static(path.join(__dirname, 'client/build')));\n\n  app.get('*', (req, res) => {\n    res.sendFile(path.join(__dirname, 'client/build', 'index.html'));\n  });\n}\n\napp.get('/service-worker', (req, res) => {\n  res.sendFile(path.resolve(__dirname, '..', 'build', 'service-worker.js'));\n});\n\napp.listen(port, err => {\n  if (err) console.log(err);\n  else console.log(`Server running on port ${port}`);\n});\n"]}